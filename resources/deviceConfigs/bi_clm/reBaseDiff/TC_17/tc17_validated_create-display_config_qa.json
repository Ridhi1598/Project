{"expected-config": {"PRI.3087043": {"EDTNABTFSE52": " {\n         config {\n             configure {\n                 service {\n                     customer TST04 {\n-                        description \"UAT Tester 4\";\n+                        description \"Customer TST04 \";\n                     }\n+                    vpls PRI.3087043 {\n+                        service-id 5600043;\n+                        description 1234743.CLGRAB21-TST0043.CLM.BICI.PRI.SEDU;\n+                        customer TST04;\n+                        admin-state enable;\n+                        service-mtu 2000;\n+                        fdb {\n+                            table {\n+                                size 256;\n+                            }\n+                        }\n+                        routed-vpls {\n+                        }\n+                        stp {\n+                            admin-state disable;\n+                        }\n+                        bgp 1 {\n+                            route-distinguisher 852:25600043;\n+                            route-target {\n+                                export target:852:5600043;\n+                                import target:852:5600043;\n+                            }\n+                        }\n+                        bgp-evpn {\n+                            evi 5600043;\n+                            mpls 1 {\n+                                admin-state enable;\n+                                auto-bind-tunnel {\n+                                    resolution any;\n+                                }\n+                            }\n+                        }\n+                        sap lag-736:3618.* {\n+                            admin-state enable;\n+                            accounting-policy 77;\n+                            collect-stats true;\n+                            ingress {\n+                                qos {\n+                                    sap-ingress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                    cir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                                filter {\n+                                    ip 500;\n+                                }\n+                            }\n+                            egress {\n+                                qos {\n+                                    sap-egress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                            }\n+                        }\n+                    }\n                 }\n             }\n         }\n     }\n ", "EDTNABTFSE51": " {\n         config {\n             configure {\n                 service {\n                     customer TST04 {\n-                        description \"UAT Tester 4\";\n+                        description \"Customer TST04 \";\n                     }\n+                    vpls PRI.3087043 {\n+                        service-id 5600043;\n+                        description 1234743.CLGRAB21-TST0043.CLM.BICI.PRI.SEDU;\n+                        customer TST04;\n+                        admin-state enable;\n+                        service-mtu 2000;\n+                        fdb {\n+                            table {\n+                                size 256;\n+                            }\n+                        }\n+                        routed-vpls {\n+                        }\n+                        stp {\n+                            admin-state disable;\n+                        }\n+                        bgp 1 {\n+                            route-distinguisher 852:15600043;\n+                            route-target {\n+                                export target:852:5600043;\n+                                import target:852:5600043;\n+                            }\n+                        }\n+                        bgp-evpn {\n+                            evi 5600043;\n+                            mpls 1 {\n+                                admin-state enable;\n+                                auto-bind-tunnel {\n+                                    resolution any;\n+                                }\n+                            }\n+                        }\n+                        sap lag-736:3618.* {\n+                            admin-state enable;\n+                            accounting-policy 77;\n+                            collect-stats true;\n+                            ingress {\n+                                qos {\n+                                    sap-ingress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                    cir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                                filter {\n+                                    ip 500;\n+                                }\n+                            }\n+                            egress {\n+                                qos {\n+                                    sap-egress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                            }\n+                        }\n+                    }\n                 }\n             }\n         }\n     }\n     "}, "EDTNABTFSE51-CLGRAB21-TST0043-1234743": " devices {\n     device EDTNABTFSE51 {\n         config {\n             configure {\n                 policy-options {\n                     prefix-list DIRECT-BGP-V4-LP350-EDTNABTFSE51 {\n+                        prefix 192.168.43.0/31 exact {\n+                        }\n                     }\n+                    prefix-list PREFIX-IPV4-E_CLGRAB21-TST0043 {\n+                        prefix 11.74.3.0/26 exact;\n+                        prefix 110.74.3.0/26 exact;\n+                    }\n+                    prefix-list PREFIX-IPV4-NE_CLGRAB21-TST0043 {\n+                        prefix 10.74.3.0/26 exact;\n+                        prefix 100.74.3.0/26 exact;\n+                    }\n+                    policy-statement CUSTIN-V4_CLGRAB21-TST0043_PRI {\n+                        entry 10 {\n+                            description \"Set prefixes as backup\";\n+                            from {\n+                                family [ ipv4 label-ipv4 ];\n+                                community {\n+                                    name BICI-LP-BACKUP;\n+                                }\n+                                protocol {\n+                                    name [ bgp bgp-label ];\n+                                }\n+                            }\n+                            action {\n+                                action-type next-entry;\n+                                local-preference 80;\n+                            }\n+                        }\n+                        entry 20 {\n+                            description \"Set same LP as peering prefixes\";\n+                            from {\n+                                family [ ipv4 label-ipv4 ];\n+                                community {\n+                                    name BICI-LP-PEERING;\n+                                }\n+                                protocol {\n+                                    name [ bgp bgp-label ];\n+                                }\n+                            }\n+                            action {\n+                                action-type next-entry;\n+                                local-preference 230;\n+                            }\n+                        }\n+                        entry 30 {\n+                            description \"Set same LP as transit prefixes\";\n+                            from {\n+                                family [ ipv4 label-ipv4 ];\n+                                community {\n+                                    name BICI-LP-TRANSIT;\n+                                }\n+                                protocol {\n+                                    name [ bgp bgp-label ];\n+                                }\n+                            }\n+                            action {\n+                                action-type next-entry;\n+                                local-preference 150;\n+                            }\n+                        }\n+                        entry 40 {\n+                            description \"IPV4: Allow only white-listed IPV4 prefixes\";\n+                            from {\n+                                prefix-list [ PREFIX-IPV4-NE_CLGRAB21-TST0043 ];\n+                                family [ ipv4 label-ipv4 ];\n+                            }\n+                            action {\n+                                action-type accept;\n+                                community {\n+                                    add [ BICI-NO-EXPORT-EDTNABTFSE51 ];\n+                                }\n+                            }\n+                        }\n+                        entry 50 {\n+                            description \"IPV4: Customer Owned Prefix entry\";\n+                            from {\n+                                prefix-list [ PREFIX-IPV4-E_CLGRAB21-TST0043 ];\n+                                family [ ipv4 label-ipv4 ];\n+                            }\n+                            action {\n+                                action-type accept;\n+                                community {\n+                                    add [ BICI-EXPORT-EDTNABTFSE51 ];\n+                                }\n+                            }\n+                        }\n+                        default-action {\n+                            action-type reject;\n+                        }\n+                    }\n                 }\n                 router Base {\n                     bgp {\n+                        neighbor 192.168.43.0 {\n+                            group CUSTOMER-FULL;\n+                            description 1234743.CLGRAB21-TST0043...BICI..V4..PRI;\n+                            keepalive 60;\n+                            local-preference 350;\n+                            med-out 80;\n+                            authentication-key 1234743;\n+                            peer-as 64004;\n+                            hold-time {\n+                                seconds 90;\n+                                minimum-hold-time 45;\n+                            }\n+                            family {\n+                                ipv4 true;\n+                            }\n+                            remove-private {\n+                            }\n+                            import {\n+                                policy [ CUSTOMER-IN-BI-V4 CUSTIN-V4_CLGRAB21-TST0043_PRI ];\n+                            }\n+                            export {\n+                                policy [ DEFAULT-CUST-FULL-OUT-V4 ];\n+                            }\n+                            prefix-limit ipv4 {\n+                                maximum 100;\n+                            }\n+                        }\n                     }\n                 }\n                 service {\n+                    ies 3087043 {\n+                        service-id 3087043;\n+                        customer TST04;\n+                        admin-state enable;\n+                        interface CLGRAB21-TST0043.3618.* {\n+                            description 1234743.CLGRAB21-TST0043.PON.100000K.BICI..V4..PRI..CLM.SEDU...CLGRAB21-TST0043-ALIAS;\n+                            ip-mtu 1500;\n+                            cflowd-parameters {\n+                                sampling unicast {\n+                                    type interface;\n+                                }\n+                            }\n+                            vpls PRI.3087043;\n+                            ipv4 {\n+                                primary {\n+                                    address 192.168.43.1;\n+                                    prefix-length 31;\n+                                }\n+                            }\n+                        }\n+                    }\n                 }\n             }\n         }\n     }\n }\n ", "SEC.3087043": {"EDTNABTFSE52": " {\n         config {\n             configure {\n                 service {\n                     customer TST04 {\n-                        description \"UAT Tester 4\";\n+                        description \"Customer TST04 \";\n                     }\n+                    vpls SEC.3087043 {\n+                        service-id 5800043;\n+                        description 1234743.CLGRAB21-TST0043.CLM.BICI.SEC.SEDU;\n+                        customer TST04;\n+                        admin-state enable;\n+                        service-mtu 2000;\n+                        fdb {\n+                            table {\n+                                size 256;\n+                            }\n+                        }\n+                        routed-vpls {\n+                        }\n+                        stp {\n+                            admin-state disable;\n+                        }\n+                        bgp 1 {\n+                            route-distinguisher 852:25800043;\n+                            route-target {\n+                                export target:852:5800043;\n+                                import target:852:5800043;\n+                            }\n+                        }\n+                        bgp-evpn {\n+                            evi 5800043;\n+                            mpls 1 {\n+                                admin-state enable;\n+                                auto-bind-tunnel {\n+                                    resolution any;\n+                                }\n+                            }\n+                        }\n+                        sap lag-736:3628.* {\n+                            admin-state enable;\n+                            accounting-policy 77;\n+                            collect-stats true;\n+                            ingress {\n+                                qos {\n+                                    sap-ingress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                    cir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                                filter {\n+                                    ip 500;\n+                                }\n+                            }\n+                            egress {\n+                                qos {\n+                                    sap-egress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                            }\n+                        }\n+                    }\n                 }\n             }\n         }\n     }\n ", "EDTNABTFSE51": " {\n         config {\n             configure {\n                 service {\n                     customer TST04 {\n-                        description \"UAT Tester 4\";\n+                        description \"Customer TST04 \";\n                     }\n+                    vpls SEC.3087043 {\n+                        service-id 5800043;\n+                        description 1234743.CLGRAB21-TST0043.CLM.BICI.SEC.SEDU;\n+                        customer TST04;\n+                        admin-state enable;\n+                        service-mtu 2000;\n+                        fdb {\n+                            table {\n+                                size 256;\n+                            }\n+                        }\n+                        routed-vpls {\n+                        }\n+                        stp {\n+                            admin-state disable;\n+                        }\n+                        bgp 1 {\n+                            route-distinguisher 852:15800043;\n+                            route-target {\n+                                export target:852:5800043;\n+                                import target:852:5800043;\n+                            }\n+                        }\n+                        bgp-evpn {\n+                            evi 5800043;\n+                            mpls 1 {\n+                                admin-state enable;\n+                                auto-bind-tunnel {\n+                                    resolution any;\n+                                }\n+                            }\n+                        }\n+                        sap lag-736:3628.* {\n+                            admin-state enable;\n+                            accounting-policy 77;\n+                            collect-stats true;\n+                            ingress {\n+                                qos {\n+                                    sap-ingress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                    cir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                                filter {\n+                                    ip 500;\n+                                }\n+                            }\n+                            egress {\n+                                qos {\n+                                    sap-egress {\n+                                        policy-name 53202;\n+                                    }\n+                                    scheduler-policy {\n+                                        policy-name BICI-SCHED;\n+                                        overrides {\n+                                            scheduler BICI-ROOT {\n+                                                rate {\n+                                                    pir 100000;\n+                                                }\n+                                            }\n+                                        }\n+                                    }\n+                                }\n+                            }\n+                        }\n+                    }\n                 }\n             }\n         }\n     }\n     "}, "EDTNABTFSE52-CLGRAB21-TST0043-1234743": " devices {\n     device EDTNABTFSE52 {\n         config {\n             configure {\n                 policy-options {\n                     prefix-list DIRECT-BGP-V4-LP340-EDTNABTFSE52 {\n+                        prefix 192.169.43.0/31 exact {\n+                        }\n                     }\n+                    prefix-list PREFIX-IPV4-E_CLGRAB21-TST0043 {\n+                        prefix 11.74.3.0/26 exact;\n+                        prefix 110.74.3.0/26 exact;\n+                    }\n+                    prefix-list PREFIX-IPV4-NE_CLGRAB21-TST0043 {\n+                        prefix 10.74.3.0/26 exact;\n+                        prefix 100.74.3.0/26 exact;\n+                    }\n+                    policy-statement CUSTIN-V4_CLGRAB21-TST0043_SEC {\n+                        entry 10 {\n+                            description \"Set prefixes as backup\";\n+                            from {\n+                                family [ ipv4 label-ipv4 ];\n+                                community {\n+                                    name BICI-LP-BACKUP;\n+                                }\n+                                protocol {\n+                                    name [ bgp bgp-label ];\n+                                }\n+                            }\n+                            action {\n+                                action-type next-entry;\n+                                local-preference 80;\n+                            }\n+                        }\n+                        entry 20 {\n+                            description \"Set same LP as peering prefixes\";\n+                            from {\n+                                family [ ipv4 label-ipv4 ];\n+                                community {\n+                                    name BICI-LP-PEERING;\n+                                }\n+                                protocol {\n+                                    name [ bgp bgp-label ];\n+                                }\n+                            }\n+                            action {\n+                                action-type next-entry;\n+                                local-preference 230;\n+                            }\n+                        }\n+                        entry 30 {\n+                            description \"Set same LP as transit prefixes\";\n+                            from {\n+                                family [ ipv4 label-ipv4 ];\n+                                community {\n+                                    name BICI-LP-TRANSIT;\n+                                }\n+                                protocol {\n+                                    name [ bgp bgp-label ];\n+                                }\n+                            }\n+                            action {\n+                                action-type next-entry;\n+                                local-preference 150;\n+                            }\n+                        }\n+                        entry 40 {\n+                            description \"IPV4: Allow only white-listed IPV4 prefixes\";\n+                            from {\n+                                prefix-list [ PREFIX-IPV4-NE_CLGRAB21-TST0043 ];\n+                                family [ ipv4 label-ipv4 ];\n+                            }\n+                            action {\n+                                action-type accept;\n+                                community {\n+                                    add [ BICI-NO-EXPORT-EDTNABTFSE52 ];\n+                                }\n+                            }\n+                        }\n+                        entry 50 {\n+                            description \"IPV4: Customer Owned Prefix entry\";\n+                            from {\n+                                prefix-list [ PREFIX-IPV4-E_CLGRAB21-TST0043 ];\n+                                family [ ipv4 label-ipv4 ];\n+                            }\n+                            action {\n+                                action-type accept;\n+                                community {\n+                                    add [ BICI-EXPORT-EDTNABTFSE52 ];\n+                                }\n+                            }\n+                        }\n+                        default-action {\n+                            action-type reject;\n+                        }\n+                    }\n                 }\n                 router Base {\n                     bgp {\n+                        neighbor 192.169.43.0 {\n+                            group CUSTOMER-FULL;\n+                            description 1234743.CLGRAB21-TST0043...BICI..V4..SEC;\n+                            keepalive 60;\n+                            local-preference 320;\n+                            med-out 160;\n+                            authentication-key 1234743;\n+                            peer-as 64004;\n+                            hold-time {\n+                                seconds 90;\n+                                minimum-hold-time 45;\n+                            }\n+                            family {\n+                                ipv4 true;\n+                            }\n+                            remove-private {\n+                            }\n+                            import {\n+                                policy [ CUSTOMER-IN-BI-V4 CUSTIN-V4_CLGRAB21-TST0043_SEC ];\n+                            }\n+                            export {\n+                                policy [ DEFAULT-CUST-FULL-OUT-V4 ];\n+                            }\n+                            prefix-limit ipv4 {\n+                                maximum 100;\n+                            }\n+                        }\n                     }\n                 }\n                 service {\n+                    ies 3087043 {\n+                        service-id 3087043;\n+                        customer TST04;\n+                        admin-state enable;\n+                        interface CLGRAB21-TST0043.3628.* {\n+                            description 1234743.CLGRAB21-TST0043.PON.100000K.BICI..V4..SEC..CLM.SEDU...CLGRAB21-TST0043-ALIAS;\n+                            ip-mtu 1500;\n+                            cflowd-parameters {\n+                                sampling unicast {\n+                                    type interface;\n+                                }\n+                            }\n+                            vpls SEC.3087043;\n+                            ipv4 {\n+                                primary {\n+                                    address 192.169.43.1;\n+                                    prefix-length 31;\n+                                }\n+                            }\n+                        }\n+                    }\n                 }\n             }\n         }\n     }\n }\n "}, "current-config": {},